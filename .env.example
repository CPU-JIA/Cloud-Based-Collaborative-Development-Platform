# Cloud-Based Collaborative Development Platform
# 环境变量配置模板

# =======================================================
# 基础服务配置
# =======================================================

# 数据库配置
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=devcollab_development
DATABASE_USER=devcollab_dev
DATABASE_PASSWORD=your_secure_password_here

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# JWT密钥配置 (至少32字符)
JWT_SECRET=your_very_secure_jwt_secret_key_here_32_characters_minimum

# =======================================================
# 邮件服务配置
# =======================================================
EMAIL_USERNAME=noreply@yourcompany.com
EMAIL_PASSWORD=your_email_password

# =======================================================
# 对象存储配置
# =======================================================
STORAGE_ACCESS_KEY=your_s3_access_key
STORAGE_SECRET_KEY=your_s3_secret_key

# =======================================================
# 服务发现和注册
# =======================================================
CONSUL_HOST=localhost
CONSUL_PORT=8500

# =======================================================
# 监控和追踪
# =======================================================
JAEGER_ENDPOINT=http://localhost:14268/api/traces
PROMETHEUS_PORT=9090

# =======================================================
# 消息队列
# =======================================================
KAFKA_BROKERS=localhost:9092

# =======================================================
# 容器和CI/CD配置
# =======================================================
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_TLS_VERIFY=0

# =======================================================
# 安全配置
# =======================================================
# 数据库备份加密密钥
DATABASE_BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here

# Vault配置（可选）
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=your_vault_token

# =======================================================
# 开发环境配置
# =======================================================
# 服务端口（开发环境）
USER_SERVICE_PORT=8081
PROJECT_SERVICE_PORT=8082
GIT_SERVICE_PORT=8083
CICD_SERVICE_PORT=8084
NOTIFICATION_SERVICE_PORT=8085
MONITOR_SERVICE_PORT=8086
API_GATEWAY_PORT=8080

# 日志级别
LOG_LEVEL=debug

# =======================================================
# 生产环境配置
# =======================================================
# 数据库连接池配置
DATABASE_POOL_SIZE=20
DATABASE_POOL_INITIAL=10
DATABASE_POOL_MAX=50
DATABASE_ACQUIRE_TIMEOUT=30000
DATABASE_STATEMENT_TIMEOUT=60000
DATABASE_LOCK_TIMEOUT=30000
DATABASE_IDLE_TIMEOUT=300000

# SSL配置
DATABASE_SSL_ENABLED=true
DATABASE_SSL_MODE=require
DATABASE_SSL_CERT_PATH=/path/to/cert.pem
DATABASE_SSL_KEY_PATH=/path/to/key.pem
DATABASE_SSL_CA_PATH=/path/to/ca.pem

# 备份配置
DATABASE_BACKUP_ENABLED=true
DATABASE_BACKUP_RETENTION=30

# 监控配置
DATABASE_MONITORING_ENABLED=true
DATABASE_METRICS_PORT=9091

# 自动迁移配置
DATABASE_AUTO_MIGRATE=false
DATABASE_MIGRATION_TIMEOUT=300

# 慢查询配置
DATABASE_SLOW_QUERY_THRESHOLD=2000

# =======================================================
# Docker 开发环境
# =======================================================
# 当使用 docker-compose 时，请调整以下配置：
# DATABASE_HOST=postgres
# REDIS_HOST=redis
# KAFKA_BROKERS=kafka:9092