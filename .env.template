# Cloud-Based Collaborative Development Platform
# 环境变量配置模板
# 复制此文件为 .env 并设置实际值

# =============================================================================
# 数据库配置
# =============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=devcollab_development
DATABASE_USER=devcollab_dev
DATABASE_PASSWORD=your_secure_database_password_here

# =============================================================================
# Redis配置
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# Kafka配置
# =============================================================================
KAFKA_BROKERS=localhost:9092

# =============================================================================
# 认证配置
# =============================================================================
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long
REFRESH_TOKEN_SECRET=your_refresh_token_secret_key

# =============================================================================
# 邮件配置
# =============================================================================
EMAIL_SMTP_HOST=smtp.company.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=noreply@company.com
EMAIL_PASSWORD=your_email_password_here

# =============================================================================
# 对象存储配置
# =============================================================================
STORAGE_TYPE=s3  # s3, minio, local
STORAGE_ENDPOINT=https://s3.amazonaws.com
STORAGE_BUCKET=collaborative-platform-storage
STORAGE_ACCESS_KEY=your_storage_access_key
STORAGE_SECRET_KEY=your_storage_secret_key
STORAGE_REGION=us-east-1

# =============================================================================
# 第三方服务配置
# =============================================================================

# GitHub集成
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# GitLab集成
GITLAB_CLIENT_ID=your_gitlab_client_id
GITLAB_CLIENT_SECRET=your_gitlab_client_secret

# Slack集成
SLACK_CLIENT_ID=your_slack_client_id
SLACK_CLIENT_SECRET=your_slack_client_secret

# =============================================================================
# 监控和追踪配置
# =============================================================================
JAEGER_ENDPOINT=http://localhost:14268/api/traces
PROMETHEUS_PUSHGATEWAY=http://localhost:9091

# =============================================================================
# 安全配置
# =============================================================================

# Vault配置（生产环境）
VAULT_ADDR=https://vault.company.com
VAULT_TOKEN=your_vault_token

# API密钥
API_ENCRYPTION_KEY=your_32_character_encryption_key
WEBHOOK_SECRET=your_webhook_secret_key

# =============================================================================
# 环境特定配置
# =============================================================================
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=info          # debug, info, warn, error
PORT=8080

# =============================================================================
# 开发环境特定配置
# =============================================================================

# 调试选项
DEBUG_ENABLED=true
PROFILING_ENABLED=false

# 测试数据库
TEST_DATABASE_NAME=devcollab_test
TEST_DATABASE_USER=devcollab_test
TEST_DATABASE_PASSWORD=test_password

# =============================================================================
# 生产环境特定配置
# =============================================================================

# SSL/TLS配置
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key

# 数据库连接池
DATABASE_MAX_OPEN_CONNS=50
DATABASE_MAX_IDLE_CONNS=10
DATABASE_CONN_MAX_LIFETIME=300s

# Redis集群配置
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=redis-1:6379,redis-2:6379,redis-3:6379

# Kafka集群配置
KAFKA_SECURITY_PROTOCOL=SASL_SSL
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SASL_USERNAME=your_kafka_username
KAFKA_SASL_PASSWORD=your_kafka_password

# =============================================================================
# 备份和恢复配置
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 每日凌晨2点
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key

# =============================================================================
# 监控告警配置
# =============================================================================
ALERTMANAGER_URL=http://alertmanager:9093
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# 许可证和订阅配置
# =============================================================================
LICENSE_SERVER_URL=https://license.company.com
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# =============================================================================
# 安全注意事项
# =============================================================================
# 1. 永远不要将包含真实值的 .env 文件提交到版本控制
# 2. 在生产环境中使用强密码和随机生成的密钥
# 3. 定期轮换密码和密钥
# 4. 使用密钥管理服务（如 HashiCorp Vault）管理敏感信息
# 5. 限制对环境变量文件的访问权限
# 6. 在容器环境中使用 secrets 而不是环境变量存储敏感信息